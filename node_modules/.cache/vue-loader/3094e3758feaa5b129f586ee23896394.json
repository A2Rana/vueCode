{"remainingRequest":"/home/arana/Documents/vueCode/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/arana/Documents/vueCode/src/views/Employees/expenseEmployee.vue?vue&type=style&index=0&id=718a59d2&scoped=true&lang=css","dependencies":[{"path":"/home/arana/Documents/vueCode/src/views/Employees/expenseEmployee.vue","mtime":1616495000255},{"path":"/home/arana/Documents/vueCode/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arana/Documents/vueCode/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/arana/Documents/vueCode/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/arana/Documents/vueCode/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arana/Documents/vueCode/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CnRhYmxlIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQo="},{"version":3,"sources":["/home/arana/Documents/vueCode/src/views/Employees/expenseEmployee.vue"],"names":[],"mappings":";AA6DA,CAAC,CAAC,CAAC,CAAC,EAAE;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB","file":"/home/arana/Documents/vueCode/src/views/Employees/expenseEmployee.vue","sourceRoot":"","sourcesContent":["<template>\n    <h1>Expenses for Employees</h1>\n    <h2 v-if=\"show\">Employee Id : {{id}}</h2>\n    <Table v-if=\"show\" v-bind:tableHeaders=\"tableHeaders\" v-bind:data=\"data\"></Table>\n    <Filter v-bind:msg=\"msg\" v-bind:message=\"message\" v-bind:route=\"route\"/>\n</template>\n\n<script>\nimport Table from '@/components/Table';\nimport Filter from '@/components/Filter';\n\nexport default {\n    name: 'Employee Expense Details',\n    components: {\n        Table,\n        Filter,\n    },\n    data() {\n        return {\n            msg: 'Filter expenses by Employee',\n            message: 'Enter Employee Id',\n            data: [],\n            tableHeaders: [],\n            ctcdata: [],\n            id:Number,\n            show:false,\n            route:'http://expensetracker.exitest.com/expenseEmployee'\n        };\n    },\n    methods: {\n        async getData(eID, year) {\n            this.id=eID;\n            const response = await fetch(`https://fbc.exitest.com/benefit/employee/${eID}/${year}/expense`);\n            const ctcresponse = await fetch(`https://fbc.exitest.com/employee/compensation/year=${year}/id=${eID}`);\n            if (response.ok) {\n                const Data = await response.json();\n                this.ctcdata = await ctcresponse.json();\n                this.show=true;\n                if (Data.length === 1 && Object.values(Data[0])[0] === null && this.ctcdata.length === 0) {\n                    return [];\n                }\n                if (!Data.length && !this.ctcdata.length) {\n                    return [];\n                }\n                Data.push({ Name: Object.keys(this.ctcdata[0])[0], ExpenseAmount: Object.values(this.ctcdata[0])[0] });\n                return Data;\n            }\n            return console.log('HTTP-Error: ' + response.status);\n        },\n    },\n    async mounted() {\n        if (this.data.length) {\n            this.tableHeaders = Object.keys(this.data[0]);\n        } else {\n            this.tableHeaders = [];\n        }\n    },\n};\n</script>\n\n<style scoped>\ntable {\n    display: inline-block;\n}\n</style>\n"]}]}